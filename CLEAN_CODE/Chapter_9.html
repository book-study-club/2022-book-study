<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>9. 단위 테스트 | 2022-book-study</title>
    <meta name="description" content="A VitePress site">
    <link rel="stylesheet" href="/2022-book-study/assets/style.9407b1cf.css">
    <link rel="modulepreload" href="/2022-book-study/assets/app.7b36c640.js">
    <link rel="modulepreload" href="/2022-book-study/assets/CLEAN_CODE_Chapter_9.md.3efaa12f.lean.js">
    
    <meta name="twitter:title" content="9. 단위 테스트 | 2022-book-study">
  <meta property="og:title" content="9. 단위 테스트 | 2022-book-study">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-22035cf8><div class="sidebar-button" data-v-22035cf8><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/2022-book-study/" aria-label="2022-book-study, back to home" data-v-22035cf8 data-v-6f1fa1d8><!----> 2022-book-study</a><div class="flex-grow" data-v-22035cf8></div><div class="nav" data-v-22035cf8><nav class="nav-links" data-v-22035cf8 data-v-32f7c87e><!--[--><div class="item" data-v-32f7c87e><div class="nav-link" data-v-32f7c87e data-v-e307cbc6><a class="item active" href="/2022-book-study/CLEAN_CODE/" data-v-e307cbc6>Clean Code <!----></a></div></div><!--]--><!----><div class="item" data-v-32f7c87e><div class="nav-link" data-v-32f7c87e data-v-e307cbc6><a class="item isExternal" href="https://github.com//book-study-club/2022-book-study/" target="_blank" rel="noopener noreferrer" data-v-e307cbc6>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-e307cbc6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-928cb7a2><nav class="nav-links nav" data-v-928cb7a2 data-v-32f7c87e><!--[--><div class="item" data-v-32f7c87e><div class="nav-link" data-v-32f7c87e data-v-e307cbc6><a class="item active" href="/2022-book-study/CLEAN_CODE/" data-v-e307cbc6>Clean Code <!----></a></div></div><!--]--><!----><div class="item" data-v-32f7c87e><div class="nav-link" data-v-32f7c87e data-v-e307cbc6><a class="item isExternal" href="https://github.com//book-study-club/2022-book-study/" target="_blank" rel="noopener noreferrer" data-v-e307cbc6>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-e307cbc6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-928cb7a2><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="#_9-1-세-가지-tdd-법칙">9.1. 세 가지 TDD 법칙</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_9-2-깨끗한-테스트-코드">9.2. 깨끗한 테스트 코드</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#테스트는-유연성-유지보수성-재사용성을-제공한다">테스트는 유연성, 유지보수성, 재사용성을 제공한다</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_9-3-깨끗한-테스트-코드">9.3. 깨끗한 테스트 코드</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#테스트-시에도-도메인-특화-언어-dsl-domain-specific-language-를-사용하라">테스트 시에도 도메인 특화 언어(DSL, Domain Specific Language)를 사용하라</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#이중-표준">이중 표준</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_9-4-1-test-1-concept">9.4. 1 test = 1 concept</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_9-5-first-규칙">9.5. FIRST 규칙</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#fast">Fast</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#independent">Independent</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#repeatable">Repeatable</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#self-validating">Self-validating</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#timely">Timely</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-338937e7><div class="container" data-v-338937e7><!--[--><!--]--><div style="position:relative;" class="content" data-v-338937e7><div><h1 id="_9-단위-테스트" tabindex="-1">9. 단위 테스트 <a class="header-anchor" href="#_9-단위-테스트" aria-hidden="true">#</a></h1><p>테스트 코드는 필수</p><h2 id="_9-1-세-가지-tdd-법칙" tabindex="-1">9.1. 세 가지 TDD 법칙 <a class="header-anchor" href="#_9-1-세-가지-tdd-법칙" aria-hidden="true">#</a></h2><ol><li>실패하는 단위 테스트를 반드시 먼저 작성</li><li>단위 테스트는 런타임에서만 실패하도록 작성</li><li>현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성</li></ol><p>다만 이로 인해 유지보수 비용이 높아지는 경우가 있음</p><h2 id="_9-2-깨끗한-테스트-코드" tabindex="-1">9.2. 깨끗한 테스트 코드 <a class="header-anchor" href="#_9-2-깨끗한-테스트-코드" aria-hidden="true">#</a></h2><p>테스트 코드 또한 실제 코드와 동일한 품질로 짜야 함</p><ul><li>변경이 어렵고 그저 돌아가기만 하는 낮은 품질의 테스트 코드 -&gt; 이는 없는 것만 못 함</li><li>실제 코드는 진화하는데, 테스트 코드가 이를 따라가지 못하게 됨</li><li>결국 테스트 코드를 폐기해버리는 상황까지 오게 됨</li><li>그러나 테스트 코드가 없다면 실제 코드의 변경이 어려워지고 결함율이 높아지게 됨</li></ul><h3 id="테스트는-유연성-유지보수성-재사용성을-제공한다" tabindex="-1">테스트는 유연성, 유지보수성, 재사용성을 제공한다 <a class="header-anchor" href="#테스트는-유연성-유지보수성-재사용성을-제공한다" aria-hidden="true">#</a></h3><ul><li>테스트 케이스는 변경에 대한 부담과 비용을 많이 낮춰줌</li><li>따라서 테스트 케이스 또한 실제 코드의 변경에 유연하도록 구성해야 함</li></ul><h2 id="_9-3-깨끗한-테스트-코드" tabindex="-1">9.3. 깨끗한 테스트 코드 <a class="header-anchor" href="#_9-3-깨끗한-테스트-코드" aria-hidden="true">#</a></h2><ul><li><p>필요한 것 = 가독성, 가독성, 가독성</p></li><li><p>실제 테스트와 관련된 코드만 넣어야 함</p></li><li><p>테스트 작성 시에도 클린 코드 기법을 적용</p></li><li><p>build-operate-check 패턴을 사용해보자 (괄호 안의 내용을 주석으로 작성)</p><div class="language-ts"><pre><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;test getPageHHierarchyAsXml()&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// given</span>
  <span class="token function">makePages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// when</span>
  <span class="token function">submitRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// then</span>
  <span class="token function">assetResponseIsXML</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">assetResponseContains</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;name&gt;test&lt;/name&gt;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>build : 테스트 자료를 만듦 (given)</li><li>operate : 테스트 자료를 조작 (when)</li><li>check : 조작한 결과를 확인 (then)</li></ul></li></ul><h3 id="테스트-시에도-도메인-특화-언어-dsl-domain-specific-language-를-사용하라" tabindex="-1">테스트 시에도 도메인 특화 언어(DSL, Domain Specific Language)를 사용하라 <a class="header-anchor" href="#테스트-시에도-도메인-특화-언어-dsl-domain-specific-language-를-사용하라" aria-hidden="true">#</a></h3><ul><li>DSL : 특정 도메인의 개념과 규칙을 따르는 방식 <ul><li>테스트용 DSL을 정의해 사용하라는 것</li></ul></li><li>이를 사용하게 되면 해당 기능의 개발자는 테스트 코드를 쉽고 빠르게 이해할 수 있게 됨</li></ul><h3 id="이중-표준" tabindex="-1">이중 표준 <a class="header-anchor" href="#이중-표준" aria-hidden="true">#</a></h3><ul><li>테스트 코드는 효율보다 가독성을 우선시</li><li>심지어 테스트 코드에서만 존재할 룰(표준)이 존재해도 됨</li></ul><h2 id="_9-4-1-test-1-concept" tabindex="-1">9.4. 1 test = 1 concept <a class="header-anchor" href="#_9-4-1-test-1-concept" aria-hidden="true">#</a></h2><ul><li>테스트 하나 당 하나의 개념(concept)만을 테스트하도록 함</li><li>중복되는 코드는 template method 패턴을 사용 <ul><li>given/when을 제공하는 메서드를 정의 -&gt; 이를 사용해 테스트에서 then</li></ul></li></ul><h2 id="_9-5-first-규칙" tabindex="-1">9.5. FIRST 규칙 <a class="header-anchor" href="#_9-5-first-규칙" aria-hidden="true">#</a></h2><p>깨끗한 테스트가 따르는 다섯 가지 규칙</p><h3 id="fast" tabindex="-1">Fast <a class="header-anchor" href="#fast" aria-hidden="true">#</a></h3><ul><li>테스트 코드는 (효율을 중요시하지 않더라도)빠른 속도로 동작해야 함</li><li>자주 테스트해야 하니까</li></ul><h3 id="independent" tabindex="-1">Independent <a class="header-anchor" href="#independent" aria-hidden="true">#</a></h3><ul><li>각 테스트는 서로 의존적이면 안 됨</li><li>어떤 순서로 실행해도 괜찮아야 함</li><li>서로 의존적이면 앞서 실행된 테스트 실패 시 이후 테스트도 모두 실패해버리기 때문 (에러 찾기가 어려워짐)</li></ul><h3 id="repeatable" tabindex="-1">Repeatable <a class="header-anchor" href="#repeatable" aria-hidden="true">#</a></h3><ul><li>테스트는 어떤 환경에서도 반복 가능해야 함</li></ul><h3 id="self-validating" tabindex="-1">Self-validating <a class="header-anchor" href="#self-validating" aria-hidden="true">#</a></h3><ul><li>테스트 결과는 assertion을 통해서만 알 수 있어야 함</li><li>절대로 수작업으로 그 결과를 알아서는 안 됨</li></ul><h3 id="timely" tabindex="-1">Timely <a class="header-anchor" href="#timely" aria-hidden="true">#</a></h3><ul><li>테스트는 반드시 실제 코드를 작성하기 전 작성되어야 함 <ul><li>작성된 코드가 테스트 어렵다는 것을 너무 뒤늦게 알 수도 있고</li><li>그냥 통과될 테스트 코드만 작성해버릴 수 있기 때문</li></ul></li></ul></div></div><footer class="page-footer" data-v-338937e7 data-v-4b207065><div class="edit" data-v-4b207065><div class="edit-link" data-v-4b207065 data-v-76b066b8><!----></div></div><div class="updated" data-v-4b207065><!----></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"clean_code_chapter_1.md\":\"45843a24\",\"clean_code_chapter_10.md\":\"f12c0f48\",\"clean_code_chapter_2.md\":\"4f5f6566\",\"clean_code_chapter_3.md\":\"d30ff7b0\",\"clean_code_chapter_4.md\":\"a81dffc4\",\"clean_code_chapter_5.md\":\"c67c3350\",\"clean_code_chapter_6.md\":\"5286d8d0\",\"clean_code_chapter_7.md\":\"930b7dca\",\"clean_code_chapter_8.md\":\"f42a0052\",\"clean_code_chapter_9.md\":\"3efaa12f\",\"clean_code_index.md\":\"107da07e\",\"readme.md\":\"ccd03e62\",\"index.md\":\"855344a5\"}")</script>
    <script type="module" async src="/2022-book-study/assets/app.7b36c640.js"></script>
    
  </body>
</html>