<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chapter 11 - 시스템 | 2022-book-study</title>
    <meta name="description" content="A VitePress site">
    <link rel="stylesheet" href="/2022-book-study/assets/style.9407b1cf.css">
    <link rel="modulepreload" href="/2022-book-study/assets/app.7b36c640.js">
    <link rel="modulepreload" href="/2022-book-study/assets/CLEAN_CODE_Chapter_11.md.b8b05c0d.lean.js">
    
    <meta name="twitter:title" content="Chapter 11 - 시스템 | 2022-book-study">
  <meta property="og:title" content="Chapter 11 - 시스템 | 2022-book-study">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-22035cf8><div class="sidebar-button" data-v-22035cf8><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/2022-book-study/" aria-label="2022-book-study, back to home" data-v-22035cf8 data-v-6f1fa1d8><!----> 2022-book-study</a><div class="flex-grow" data-v-22035cf8></div><div class="nav" data-v-22035cf8><nav class="nav-links" data-v-22035cf8 data-v-32f7c87e><!--[--><div class="item" data-v-32f7c87e><div class="nav-link" data-v-32f7c87e data-v-e307cbc6><a class="item active" href="/2022-book-study/CLEAN_CODE/" data-v-e307cbc6>Clean Code <!----></a></div></div><!--]--><!----><div class="item" data-v-32f7c87e><div class="nav-link" data-v-32f7c87e data-v-e307cbc6><a class="item isExternal" href="https://github.com//book-study-club/2022-book-study/" target="_blank" rel="noopener noreferrer" data-v-e307cbc6>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-e307cbc6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-928cb7a2><nav class="nav-links nav" data-v-928cb7a2 data-v-32f7c87e><!--[--><div class="item" data-v-32f7c87e><div class="nav-link" data-v-32f7c87e data-v-e307cbc6><a class="item active" href="/2022-book-study/CLEAN_CODE/" data-v-e307cbc6>Clean Code <!----></a></div></div><!--]--><!----><div class="item" data-v-32f7c87e><div class="nav-link" data-v-32f7c87e data-v-e307cbc6><a class="item isExternal" href="https://github.com//book-study-club/2022-book-study/" target="_blank" rel="noopener noreferrer" data-v-e307cbc6>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-e307cbc6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-928cb7a2><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="#시스템-제작과-시스템-사용을-분리하라">시스템 제작과 시스템 사용을 분리하라</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#생성-로직을-main으로-분리">생성 로직을 Main으로 분리</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#팩토리">팩토리</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#의존성-주입">의존성 주입</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#확장">확장</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#횡단-관심사">횡단 관심사</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#자바-프록시">자바 프록시</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#자바-순수-aop-프레임워크">자바 순수 AOP 프레임워크</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#aspectj">AspectJ</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#테스트-주도-시스템-아키텍쳐-구축">테스트 주도 시스템 아키텍쳐 구축</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#의사-결정을-최적화하라">의사 결정을 최적화하라</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#명백한-가치가-있을-때-표준을-현명하게-사용하라">명백한 가치가 있을 때 표준을 현명하게 사용하라</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#시스템은-도메인-특화-언어가-필요하다">시스템은 도메인 특화 언어가 필요하다</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#결론">결론</a><!----></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-338937e7><div class="container" data-v-338937e7><!--[--><!--]--><div style="position:relative;" class="content" data-v-338937e7><div><h1 id="chapter-11-시스템" tabindex="-1">Chapter 11 - 시스템 <a class="header-anchor" href="#chapter-11-시스템" aria-hidden="true">#</a></h1><p>높은 추상화 수준, 즉 시스템 수준에서도 깨끗함을 유지하는 방법</p><h2 id="시스템-제작과-시스템-사용을-분리하라" tabindex="-1">시스템 제작과 시스템 사용을 분리하라 <a class="header-anchor" href="#시스템-제작과-시스템-사용을-분리하라" aria-hidden="true">#</a></h2><hr><p>제작과 사요은 아주 다르다.</p><div class="language-java"><pre><code><span class="token keyword">public</span> <span class="token class-name">Service</span> <span class="token function">getService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>service <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
		servide <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> service<span class="token punctuation">;</span>
</code></pre></div><p>이것은 초기화 지연 혹은 계산 지연이라는 기법이다. null 포인터를 어떤 경우에도 반환하지 않고, 필요할 때까지 객체를 생성하지 않는다는 장점이 있다.</p><p>그러나 생성자 인수에 명시적으로 getService 메서드가 의존하게 되고, 런타임 로직에서 MyServiceImpl 객체를 전혀 사용하지 않더라도 의존성을 해결하지 않으면 컴파일이 안된다. 또한 테스트도 의존성을 가지게 되고, 결론적으로 단일 책임 원칙을 깨게 된다.</p><h3 id="생성-로직을-main으로-분리" tabindex="-1">생성 로직을 Main으로 분리 <a class="header-anchor" href="#생성-로직을-main으로-분리" aria-hidden="true">#</a></h3><p>생성과 사용을 분리하는 가장 간단한 방법은 모든 생성과 관련된 로직을 main으로 옮기는 것이다. 어플리케이션에서는 사용할 모등 객체들이 main에서 잘 생성되었을 것이라 여기고 나머지 디자인에 집중할 수 있다.</p><h3 id="팩토리" tabindex="-1">팩토리 <a class="header-anchor" href="#팩토리" aria-hidden="true">#</a></h3><p>factory 객체를 만들어서 던져줄 수 있다. 만약 자세한 구현을 숨기고 싶다면 Abstract Factory 패턴을 사용</p><h3 id="의존성-주입" tabindex="-1">의존성 주입 <a class="header-anchor" href="#의존성-주입" aria-hidden="true">#</a></h3><p>의존성 주입은 제어 역전 기법을 의존성 관리에 적용한 메커니즘이다. 제어 역전에서는 한 객체가 맡은 보조 책임을 새로운 객체에게 전적으로 떠넘긴다. 새로운 객체는 넘겨받은 책임만 맡으므로 단일 책임 원칙을 지키게 된다.</p><h2 id="확장" tabindex="-1">확장 <a class="header-anchor" href="#확장" aria-hidden="true">#</a></h2><p>먼저, 관심사를 적절히 분리하지 못하는 아키텍처 예를 소개한다. 원래 EJB1과 EJB2 아키텍처는 관심사를 적절히 분리하지 못했기에 유기적인 성장이 어려웠다.</p><div class="language-java"><pre><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>banking</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>ejb<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BankLocal</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>ejb<span class="token punctuation">.</span></span>EJBLocalObject</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">getStreetAddr1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EJBException</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">getStreetAddr2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EJBException</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">getCity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EJBException</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EJBException</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">getZipCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EJBException</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">setStreetAddr1</span><span class="token punctuation">(</span><span class="token class-name">String</span> street1<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EJBException</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">setStreetAddr2</span><span class="token punctuation">(</span><span class="token class-name">String</span> street2<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EJBException</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">setCity</span><span class="token punctuation">(</span><span class="token class-name">String</span> city<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EJBException</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token class-name">String</span> state<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EJBException</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">setZipCode</span><span class="token punctuation">(</span><span class="token class-name">String</span> zip<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EJBException</span><span class="token punctuation">;</span>
    <span class="token class-name">Collection</span> <span class="token function">getAccounts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EJBException</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">setAccounts</span><span class="token punctuation">(</span><span class="token class-name">Collection</span> accounts<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EJBException</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">addAccount</span><span class="token punctuation">(</span><span class="token class-name">AccountDTO</span> accountDTO<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EJBException</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>banking</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>ejb<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Bank</span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>ejb<span class="token punctuation">.</span></span>EntityBean</span> <span class="token punctuation">{</span>
    <span class="token comment">// Business logic...</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">String</span> <span class="token function">getStreetAddr1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">String</span> <span class="token function">getStreetAddr2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">String</span> <span class="token function">getCity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">String</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">String</span> <span class="token function">getZipCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">setStreetAddr1</span><span class="token punctuation">(</span><span class="token class-name">String</span> street1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">setStreetAddr2</span><span class="token punctuation">(</span><span class="token class-name">String</span> street2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">setCity</span><span class="token punctuation">(</span><span class="token class-name">String</span> city<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token class-name">String</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">setZipCode</span><span class="token punctuation">(</span><span class="token class-name">String</span> zip<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Collection</span> <span class="token function">getAccounts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">setAccounts</span><span class="token punctuation">(</span><span class="token class-name">Collection</span> accounts<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addAccount</span><span class="token punctuation">(</span><span class="token class-name">AccountDTO</span> accountDTO<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">InitialContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InitialContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">AccountHomeLocal</span> accountHome <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">lookup</span><span class="token punctuation">(</span><span class="token string">&quot;AccountHomeLocal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">AccountLocal</span> account <span class="token operator">=</span> accountHome<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>accountDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Collection</span> accounts <span class="token operator">=</span> <span class="token function">getAccounts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        accounts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// EJB container logic</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">ejbCreate</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ejbPostCreate</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

    <span class="token comment">// The rest had to be implemented but were usually empty:</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setEntityContext</span><span class="token punctuation">(</span><span class="token class-name">EntityContext</span> ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">unsetEntityContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ejbActivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ejbPassivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ejbLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ejbStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ejbRemove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>위와 같은 코드는 전형적인 EJB2 객체 구조의 코드이다.</p><ul><li>비지니스 논리는 EJB2 애플리케이션 컨테이너에 강력하게 결합되어있다. 클래스를 생성할 때는 컨테이너에서 파생해야 하며 컨테이너가 요구하는 다양한 생명주기 메서드를 제공해야 한다.</li><li>이런 결합탓에 독자적인 단위 테스트가 어렵다.</li><li>결국 객체 지향 프로그래밍이라는 개념이 흔들리게된다.</li></ul><h3 id="횡단-관심사" tabindex="-1">횡단 관심사 <a class="header-anchor" href="#횡단-관심사" aria-hidden="true">#</a></h3><p>횡단 관심사란 이론적으로는 독립된 형태로 구분될 수 있지만 실제로는 코드에 산재하기 쉬운 부분들을 뜻한다. ex) 트랜잭션, 보안, 영속정인 동작, 로깅</p><p>AOP에서 관점이라는 모듈 구성 개념은 <code>특정 관심사를 지원하려면 시스템에서 특정 지점들이 동작하는 방식을 일관성 있게 바꿔야한다</code>고 명시한다.</p><p>자바에서 사용하는 관점 혹은 관점과 유사한 메커니즘 세개를 살펴보자.</p><h3 id="자바-프록시" tabindex="-1">자바 프록시 <a class="header-anchor" href="#자바-프록시" aria-hidden="true">#</a></h3><p>자바 프록시는 단순한 상황에 적합하다. JDK에서 제공하는 동적 프록시는 인터페이스만 지원한다. 클래스 프록시를 이용하려면 바이트 코드 처리 라이브러리가 필요하다.</p><div class="language-java"><pre><code><span class="token comment">// Bank.java</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token comment">// 은행 추상화</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Bank</span> <span class="token punctuation">{</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAccounts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">setAccounts</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> accounts<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// BankImpl.java</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token comment">// 추상화를 위한 POJO 구현</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BankImpl</span> <span class="token keyword">implements</span> <span class="token class-name">Bank</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> accounts<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAccounts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> accounts<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAccounts</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> accounts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>accounts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Account</span> account<span class="token operator">:</span> accounts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>accounts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// BankProxyHandler.java</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token comment">// 프록시 API가 필요한 “InvocationHandler”</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BankProxyHandler</span> <span class="token keyword">implements</span> <span class="token class-name">InvocationHandler</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Bank</span> bank<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">BankHandler</span> <span class="token punctuation">(</span><span class="token class-name">Bank</span> bank<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bank <span class="token operator">=</span> bank<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// InvocationHandler에 정의된 메서드</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> methodName <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>methodName<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;getAccounts&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            bank<span class="token punctuation">.</span><span class="token function">setAccounts</span><span class="token punctuation">(</span><span class="token function">getAccountsFromDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> bank<span class="token punctuation">.</span><span class="token function">getAccounts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>methodName<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;setAccounts&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            bank<span class="token punctuation">.</span><span class="token function">setAccounts</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setAccountsToDatabase</span><span class="token punctuation">(</span>bank<span class="token punctuation">.</span><span class="token function">getAccounts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 세부사항은 여기에 이어진다</span>
    <span class="token keyword">protected</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAccountsFromDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">setAccountsToDatabase</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> accounts<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 다른 곳에 위치하는 코드</span>
<span class="token class-name">Bank</span> bank <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Bank</span><span class="token punctuation">)</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>
    <span class="token class-name">Bank</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token class-name">Bank</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">BankProxyHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BankImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>위에서는 프록시로 감쌀 인터페이스 Bank와 비지니스 논리를 구현하는 POJO BankImpl을 정의했다.</p><p>프록시 API에는 InvocationHandler를 넘겨 줘야 한다. 넘긴 InvocationHandler는 프록시에 호출되는 Bank 메서드를 구현하는데 사용된다. BankProxyHandler는 자바 리플렉션 API를 사용해 제네릭스 메서드를 상응하는 BankImpl 메서드로 매핑한다.</p><h3 id="자바-순수-aop-프레임워크" tabindex="-1">자바 순수 AOP 프레임워크 <a class="header-anchor" href="#자바-순수-aop-프레임워크" aria-hidden="true">#</a></h3><p>위의 자바 프록시 API의 단점은 Spring, JBoss와 같은 순수 자바 AOP 프레임워크를 통해 해결할 수 있다.</p><div class="language-java"><pre><code><span class="token generics"><span class="token punctuation">&lt;</span>beans<span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">&quot;appDataSource&quot;</span>
        <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;org.apache.commons.dbcp.BasicDataSource&quot;</span>
        destroy<span class="token operator">-</span>method<span class="token operator">=</span><span class="token string">&quot;close&quot;</span>
        p<span class="token operator">:</span>driverClassName<span class="token operator">=</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span>
        p<span class="token operator">:</span>url<span class="token operator">=</span><span class="token string">&quot;jdbc:mysql://localhost:3306/mydb&quot;</span>
        p<span class="token operator">:</span>username<span class="token operator">=</span><span class="token string">&quot;me&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">&quot;bankDataAccessObject&quot;</span>
        <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;com.example.banking.persistence.BankDataAccessObject&quot;</span>
        p<span class="token operator">:</span>dataSource<span class="token operator">-</span>ref<span class="token operator">=</span><span class="token string">&quot;appDataSource&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">&quot;bank&quot;</span>
        <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;com.example.banking.model.Bank&quot;</span>
        p<span class="token operator">:</span>dataAccessObject<span class="token operator">-</span>ref<span class="token operator">=</span><span class="token string">&quot;bankDataAccessObject&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>beans<span class="token operator">&gt;</span>
</code></pre></div><p>각 ‘빈’은 중첩된 ‘아시아 인형’의 일부분 같다. Bank 도메인 객체는 DAO로 프록시되었으며, DTO 객체는 JDBC 드라이버 자료 소스로 프록시 되었다. 클라이언트는 Bank에 접근하고 있다고 생각하지만 사실은 가장 바깥의 BankDataSource에 접근하고 있는 것이다.</p><p>애플리케이션에서 DI 컨테이너에게 시스템 내 최상위 객체를 요청하려면 다음과 같은 코드가 필요하다.</p><div class="language-java"><pre><code><span class="token class-name">XmlBeanFactory</span> bf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XmlBeanFactory</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ClassPathResource</span><span class="token punctuation">(</span><span class="token string">&quot;app.xml&quot;</span><span class="token punctuation">,</span> <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Bank</span> bank <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Bank</span><span class="token punctuation">)</span> bf<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;bank&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>스프링과 독립적이다. EJB2 시스템이 지녔던 강한 결합 문제가 사라진다.</p><div class="language-java"><pre><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>banking<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collection</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;BANKS&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bank</span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Id</span> <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy<span class="token operator">=</span><span class="token class-name">GenerationType</span><span class="token punctuation">.</span>AUTO<span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Embeddable</span> <span class="token comment">// Bank의 데이터베이스 행에 &#39;인라인으로 포함된&#39; 객체</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Address</span> <span class="token punctuation">{</span>
        <span class="token keyword">protected</span> <span class="token class-name">String</span> streetAddr1<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token class-name">String</span> streetAddr2<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token class-name">String</span> city<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token class-name">String</span> state<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token class-name">String</span> zipCode<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Embedded</span>
    <span class="token keyword">private</span> <span class="token class-name">Address</span> address<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@OneToMany</span><span class="token punctuation">(</span>cascade <span class="token operator">=</span> <span class="token class-name">CascadeType</span><span class="token punctuation">.</span>ALL<span class="token punctuation">,</span> fetch <span class="token operator">=</span> <span class="token class-name">FetchType</span><span class="token punctuation">.</span>EAGER<span class="token punctuation">,</span> mappedBy<span class="token operator">=</span><span class="token string">&quot;bank&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> accounts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addAccount</span><span class="token punctuation">(</span><span class="token class-name">Account</span> account<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        account<span class="token punctuation">.</span><span class="token function">setBank</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        accounts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAccounts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> accounts<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAccounts</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> accounts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>accounts <span class="token operator">=</span> accounts<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>위와 같이 EJB2보다 훨씬 깨끗해졌다. 일부 상세한 엔티티 정보들은 annotation내에 정의되어 있지만 모든 정보가 annotation 안에 있으므로 이전보다 더 깨끗하고 테스트하고 개선하기 쉬워졌다.</p><h3 id="aspectj" tabindex="-1">AspectJ <a class="header-anchor" href="#aspectj" aria-hidden="true">#</a></h3><p>관심사를 분리하는 가장 관력한 도구는 AspectJ 언어다.</p><h2 id="테스트-주도-시스템-아키텍쳐-구축" tabindex="-1">테스트 주도 시스템 아키텍쳐 구축 <a class="header-anchor" href="#테스트-주도-시스템-아키텍쳐-구축" aria-hidden="true">#</a></h2><p>코드 수준에서 아키텍처 관심사를 분리할 수 있다면, 진정한 테스트 주도 아키텍처 구축이 가능해진다. 그때그때 새로운 기술을 채택해 단순 아키텍처를 복잡한 아키텍처로 키워갈 수 있다. 해로운 BEUF를 추구할 필요가 없다.</p><h3 id="의사-결정을-최적화하라" tabindex="-1">의사 결정을 최적화하라 <a class="header-anchor" href="#의사-결정을-최적화하라" aria-hidden="true">#</a></h3><p>모듈을 나누고 관심사를 분리하면 지엽적인 관리와 결정이 가능해진다. 결정은 최대한 정보를 모으고 최선의 결정을 위해 마지막 순간까지 미루는것도 좋은 선택이다.</p><h3 id="명백한-가치가-있을-때-표준을-현명하게-사용하라" tabindex="-1">명백한 가치가 있을 때 표준을 현명하게 사용하라 <a class="header-anchor" href="#명백한-가치가-있을-때-표준을-현명하게-사용하라" aria-hidden="true">#</a></h3><p>EJB2는 단지 표준이라는 이유만으로 많은 팀이 사용했다. 표준을 사용하면 아이디어와 컴포넌트를 재사용하기 쉽고, 여러 장점이 있다. 하지만 과장되게 포장된 표준에 집착할 이유는 없다.</p><h3 id="시스템은-도메인-특화-언어가-필요하다" tabindex="-1">시스템은 도메인 특화 언어가 필요하다 <a class="header-anchor" href="#시스템은-도메인-특화-언어가-필요하다" aria-hidden="true">#</a></h3><p>DSL(Domain-Specific Language)가 새롭게 조명받기 시작했다. DSL은 간단한 스크립트 언어나 표준 언어로 구현한 API를 가리킨다. 좋은 DSL은 도메인 개념과 그 개념을 구현한 코드 사이에 존재하는 ‘의사소통 간극’을 줄여준다.</p><h2 id="결론" tabindex="-1">결론 <a class="header-anchor" href="#결론" aria-hidden="true">#</a></h2><p>시스템은 역시 깨끗해야 한다. 깨끗하지 못한 아키텍처는 도메인 논리를 흐리며 기민성을 떨어트린다. 모든 추상화 단계에서 의도는 명확히 표현해야 한다. 그러면서 POJO를 작성하고 관점 혹은 관점과 유사한 메커니즘을 사용해 각 구현 관심사를 분리해야 한다.</p></div></div><footer class="page-footer" data-v-338937e7 data-v-4b207065><div class="edit" data-v-4b207065><div class="edit-link" data-v-4b207065 data-v-76b066b8><!----></div></div><div class="updated" data-v-4b207065><!----></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"clean_code_chapter_1.md\":\"45843a24\",\"clean_code_chapter_10.md\":\"f12c0f48\",\"clean_code_chapter_11.md\":\"b8b05c0d\",\"clean_code_chapter_12.md\":\"d1cb317e\",\"clean_code_chapter_13.md\":\"1b27a516\",\"clean_code_chapter_15.md\":\"e0b0ed4a\",\"clean_code_chapter_2.md\":\"4f5f6566\",\"clean_code_chapter_3.md\":\"d30ff7b0\",\"clean_code_chapter_4.md\":\"a81dffc4\",\"clean_code_chapter_5.md\":\"c67c3350\",\"clean_code_chapter_6.md\":\"5286d8d0\",\"clean_code_chapter_7.md\":\"930b7dca\",\"clean_code_chapter_8.md\":\"f42a0052\",\"clean_code_chapter_9.md\":\"3efaa12f\",\"clean_code_index.md\":\"3807b6bf\",\"readme.md\":\"ccd03e62\",\"index.md\":\"855344a5\"}")</script>
    <script type="module" async src="/2022-book-study/assets/app.7b36c640.js"></script>
    
  </body>
</html>